---
title: "Project1"
name:  "Matt and Isaac"
date:  "10-02-24"
format: html
editor: visual
---

## Quarto

Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.

```{r}
library("tidyverse")
library("tidycensus")
library("jsonlite")

URL_ids <- "https://api.nhle.com/stats/rest/en/team"

id_info <- httr::GET(URL_ids)
str(id_info, max.level = 1)
id_info

parsed <- fromJSON(rawToChar(id_info$content))
parsed

team_info <- as_tibble(parsed$data)
team_info

```


## Running Code

When you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r}
library("tidyverse")
library("tidycensus")
library("jsonlite")

#api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&SCHL=24&key=YOUR_KEY

#ex_URL <- "https://api.census.gov/data/2022/acs/acs1/pums/variables.json"

ex_URL <- "https://api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&SCHL=24"

ex_info <- httr::GET(ex_URL)
str(ex_info, max.level=1)
ex_info

ex_info_parsed <- fromJSON(rawToChar(ex_info$content))
#ex_info_parsed
#attributes(ex_info_parsed$variables$HHLANP)

ex_info_tib <- as_tibble(ex_info_parsed)
ex_info_tib

#url_to_tibble <- function(url = NULL) {
#    raw_data <- httr::GET(url)
#    parsed_data <- fromJSON(rawToChar(raw_data$content))
#    return (tibble(parsed_data))
#}

#url_to_tibble()
#url_to_tibble("https://www.wral.com")

fnctn <- function(geography, region=NULL, division=NULL, state=NULL, formatted_variables, KEY, YEAR=2022, AGEP=1, PWGTP=1, GASP=NULL, GRPIP=NULL, JWAP=NULL, JWAP=NULL, JWMNP=NULL, SEX=2, FER=NULL, HHL=NULL, HISPEED=NULL, JWAP=NULL, JWTRNS=NULL, SCH=NULL, SCHL=NULL, show_call = FALSE) {
 base <- paste("https://api.census.gov/data",
 as.character(year), "acs",
 survey, sep = "/")
}

```

You can add options to executable code like this

```{r}
load_data_pums <- function(geography, AGEP=NULL, PWGTP=1, SEX=NULL), key, year = 2022, show_call = FALSE) {
 base <- paste("https://api.census.gov/data", as.character(year), "acs", "acs1", "pums?", sep = "/")
 if (){ 
   message("Using the ACS Data Profile") base <- paste0(base, "/profile") 
 }
}
```

The `echo: false` option disables the printing of code (only output is displayed).



```{r}
##https://api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&SCHL=24

```

